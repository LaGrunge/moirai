<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CI Dashboard</title>
    <link rel="icon" type="image/svg+xml" href="favicon.svg">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <header class="header">
        <div class="header-left">
            <img src="favicon.svg" alt="Logo" class="logo">
            <h1>CI Dashboard</h1>
        </div>
        <div class="header-right">
            <div id="config-select" class="config-select-wrapper">
                <button class="config-select-btn" id="config-select-btn">
                    <span class="config-icon"></span>
                    <span class="config-name">Select repository...</span>
                    <span class="dropdown-arrow">‚ñº</span>
                </button>
                <div class="config-dropdown" id="config-dropdown"></div>
            </div>
            <button id="demo-toggle" class="demo-toggle" title="Demo mode OFF - click to enable">
                <span class="demo-icon">üé≠</span>
            </button>
            <button id="theme-toggle" class="theme-toggle" title="Toggle theme">
                <span class="icon-moon">üåô</span>
                <span class="icon-sun">‚òÄÔ∏è</span>
            </button>
        </div>
    </header>

    <nav class="tabs">
        <button class="tab-btn active" data-tab="branches">Branches</button>
        <button class="tab-btn" data-tab="cron">Cron Builds</button>
        <button class="tab-btn" data-tab="settings">‚öôÔ∏è Settings</button>
    </nav>

    <main class="content">
        <div id="branches-tab" class="tab-content active">
            <div class="branches-toolbar">
                <input type="text" id="branch-filter" class="branch-filter" placeholder="Filter branches/PRs...">
                <div class="sort-buttons">
                    <button class="sort-btn active" data-sort="status" title="Sort by status">Status</button>
                    <button class="sort-btn" data-sort="time" title="Sort by time">Time</button>
                    <button class="sort-btn" data-sort="name" title="Sort by name">Name</button>
                </div>
            </div>
            <div class="cards-container" id="branches-cards">
                <div class="placeholder">Select a repository to view branch status</div>
            </div>
        </div>

        <div id="cron-tab" class="tab-content">
            <div class="cards-container" id="cron-cards">
                <div class="placeholder">Select a repository to view cron builds</div>
            </div>
        </div>

        <div id="settings-tab" class="tab-content">
            <div class="settings-container">
                <h2>Settings</h2>

                <div class="settings-section">
                    <h3>Saved Repositories</h3>
                    <p class="setting-description">Add repositories to monitor. They will appear in the dropdown for quick access.</p>
                    <div id="saved-configs-list" class="saved-configs-list">
                        <div class="placeholder">No saved repositories yet</div>
                    </div>
                </div>

                <div class="settings-section">
                    <h3>Display Options</h3>
                    <label class="setting-item">
                        <input type="checkbox" id="setting-filter-empty-repos" checked>
                        <span class="setting-label">Hide repositories without builds</span>
                        <span class="setting-description">When adding a repository, only show repos that have at least one build</span>
                    </label>
                </div>

                <div class="settings-section">
                    <h3>Add Repository</h3>
                    <div class="add-config-form">
                        <div class="form-row">
                            <label>Server</label>
                            <select id="add-config-server" class="form-select">
                                <option value="">Select server...</option>
                            </select>
                        </div>
                        <div class="form-row">
                            <label>Repository</label>
                            <select id="add-config-repo" class="form-select" disabled>
                                <option value="">Select server first...</option>
                            </select>
                        </div>
                        <div class="form-row">
                            <label>Display Name (optional)</label>
                            <input type="text" id="add-config-name" class="form-input" placeholder="e.g. My Project">
                        </div>
                        <button id="add-config-btn" class="settings-btn" disabled>Add Repository</button>
                    </div>
                </div>

                <div class="settings-section">
                    <h3>Data</h3>
                    <button id="clear-cache-btn" class="settings-btn settings-btn-danger">Clear All Data</button>
                    <span class="setting-description">Clears all saved repositories and preferences</span>
                </div>
            </div>
        </div>
    </main>

    <footer class="footer">
        <p>CI Dashboard - Woodpecker & Drone</p>
    </footer>

    <script src="config.js"></script>
    <script type="module" src="js/main.js"></script>
</body>
</html>
